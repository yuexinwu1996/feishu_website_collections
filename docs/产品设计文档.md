# 飞书网页收藏助手 - 产品设计文档 (PRD)

## 📋 产品概述

### 产品名称
飞书网页收藏助手 (Feishu Web Bookmark Extension)

### 产品定位
一款Chrome浏览器扩展，让用户能够一键保存网页到飞书多维表格，支持标签分类、项目管理和文件关联，提供完整的网页收藏和知识管理解决方案。

### 目标用户
- 使用飞书办公的个人用户和团队
- 需要收藏和管理大量网页资源的知识工作者
- 希望将网页收藏与团队协作结合的用户

## 🎯 核心价值

### 用户痛点
1. **收藏分散**：浏览器书签、飞书文档、其他工具分散存储
2. **缺乏分类**：无法有效组织和检索收藏的网页
3. **团队协作难**：个人收藏无法与团队共享
4. **上下文缺失**：收藏时缺少备注和相关文件

### 解决方案
1. **统一存储**：所有网页收藏保存到飞书多维表格
2. **智能分类**：支持标签和项目双重分类体系
3. **团队共享**：基于飞书权限的团队协作
4. **富信息收藏**：支持备注、文件等上下文信息

## ✨ 功能特性

### 核心功能
1. **一键保存**
   - 点击扩展图标快速保存当前网页
   - 自动提取页面标题和URL
   - 支持保存选中文本作为备注

2. **详细模式保存**
   - 编辑网页标题
   - 添加个人备注
   - 设置分类标签
   - 选择关联项目
   - 上传相关文件

3. **智能去重**
   - URL规范化处理
   - 基于哈希值的重复检测
   - 防止同一页面重复保存

### 高级功能
1. **离线队列**
   - 网络断开时本地缓存
   - 连接恢复后自动同步
   - 失败重试机制

2. **右键菜单**
   - 页面右键快速保存
   - 选中文本保存为备注
   - 链接直接保存

3. **最近记录**
   - 显示最近保存的网页
   - 快速访问历史记录

## 🏗️ 系统架构

### 技术架构
```
用户浏览器 (Chrome Extension)
    ↓
后端代理服务器 (解决CORS)
    ↓
飞书开放平台 API
    ↓
飞书多维表格 (数据存储)
```

### 核心组件
1. **Chrome扩展前端**
   - manifest.json: 扩展配置
   - popup.html/js: 用户交互界面
   - background.js: 后台服务工作者
   - options.html/js: 设置页面

2. **代理服务器**
   - 转发API请求到飞书
   - 处理CORS跨域问题
   - 文件上传代理

3. **飞书集成**
   - 多维表格存储
   - 文件上传服务
   - 权限管理

## 📊 数据模型

### 多维表格结构
| 字段名 | 类型 | 说明 |
|--------|------|------|
| 网页链接 | 单行文本 | 完整的网页URL |
| 网站标题 | 单行文本 | 页面标题 |
| 备注 | 多行文本 | 用户添加的备注信息 |
| 分类标签 | 多选 | 标签分类体系 |
| 关联项目 | 多选 | 项目分组管理 |
| 关联文件 | 附件 | 相关文件上传 |
| 创建时间 | 日期时间 | 记录创建时间 |
| 最后更新时间 | 日期时间 | 记录更新时间 |
| url_hash | 单行文本 | URL哈希值(去重用) |

### 预设分类
**标签系统**：
- 工作、学习、生活、技术、新闻、娱乐、购物、其他

**项目系统**：
- 三方商品供应链（根据用户需求自定义）

## 🎨 用户界面设计

### 弹窗界面 (popup.html)
1. **快速保存模式**
   - 显示当前页面标题和URL
   - 一键保存按钮
   - 最近保存记录

2. **详细设置模式**
   - 标题编辑
   - 备注输入
   - 标签管理
   - 项目选择
   - 文件上传

### 配置界面 (options.html)
1. **API配置**
   - 代理服务器地址
   - 飞书应用凭证
   - 表格ID配置
   - 连接测试

2. **使用说明**
   - 配置向导
   - 权限说明
   - 常见问题

## 🔧 用户使用流程

### 首次配置
1. 安装Chrome扩展
2. 创建飞书应用获取凭证
3. 部署代理服务器
4. 创建多维表格
5. 配置扩展设置
6. 测试连接

### 日常使用
1. **快速收藏**：点击扩展图标 → 快速保存
2. **详细收藏**：点击扩展图标 → 详细设置 → 填写信息 → 保存
3. **右键收藏**：页面右键 → 保存到飞书
4. **查看记录**：飞书多维表格中查看和管理

## 📈 产品指标

### 用户体验指标
- 保存操作完成时间 < 3秒
- 界面响应时间 < 500ms
- 离线模式数据丢失率 < 1%

### 功能完成度
- ✅ 基础保存功能
- ✅ 标签和项目管理
- ✅ 文件上传支持
- ✅ 离线队列机制
- ✅ 右键菜单集成

## 🚀 版本规划

### v1.0 (当前版本)
- 基础保存功能
- 标签和项目管理
- 文件上传
- 配置界面

### v1.1 (计划中)
- 批量导入书签
- 数据导出功能
- 搜索和筛选
- 快捷键支持

### v2.0 (远期规划)
- 智能标签推荐
- 网页内容摘要
- 团队协作功能
- 移动端支持

## 🔒 安全和隐私

### 数据安全
- 所有数据存储在用户自己的飞书空间
- 不收集用户个人信息
- 支持本地离线存储

### 权限控制
- 最小权限原则
- 透明的权限说明
- 用户可控的数据访问

## 📞 用户支持

### 文档支持
- 详细的README文档
- 配置向导和视频教程
- 常见问题解答

### 技术支持
- GitHub Issues
- 用户反馈渠道
- 版本更新通知

---

**版本**: v1.0  
**最后更新**: 2025年9月11日  
**维护者**: 产品开发团队